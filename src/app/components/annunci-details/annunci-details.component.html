<div class="container">
  <div class="d-flex row align-items-center justify-content-between text-start">
    <div class="col-sm-12 col-md-12 col-lg-3">
      <h1>Dettagli annuncio&lt;/&gt;</h1>
      <button
        type="submit"
        class="btn torna mb-3"
        [routerLink]="['/annunci/bacheca-annunci']"
      >
        < Torna agli annunci
      </button>
    </div>

    <div class="col-sm-12 col-md-12 col-lg-5">
      <div *ngIf="annuncio">
        <div class="card p-3">
          <div class="card-body">
            <p class="stato-annuncio">
              Stato annuncio: {{ annuncio.statoAnnuncio }}
            </p>
            <!--TITOLO-->
            <h2 class="card-title">{{ annuncio.titolo }}</h2>
            <!--CATEGIRUA-->
            <p class="categoria card-text mb-1">
              {{ annuncio.categoria | categoriaConversion }} - Pubblicato il
              {{ annuncio.dataPubblicazione }}
            </p>

            <!--DESCRIZIONE-->
            <p class="descrizione card-text">
              <b>Descrizione</b> <br />{{ annuncio.descrizione }}
            </p>
            <div class="d-flex justify-content-between align-items-end">
              <!--RUOLO UTENTE E NOME-->
              <div class="utente">
                <ng-container
                  *ngIf="
                    annuncio.utente.ruolo === 'AZIENDA';
                    else privatoTemplate
                  "
                >
                  <h2 class="utente-pubblicante">
                    {{ annuncio.utente.ruolo }} <br />
                    {{ annuncio.utente.nomeAzienda }}
                  </h2>
                </ng-container>

                <ng-template #privatoTemplate>
                  <h2 class="utente-pubblicante">
                    {{ annuncio.utente.ruolo }} <br />{{ annuncio.utente.nome }}
                    {{ annuncio.utente.cognome }}
                  </h2>
                </ng-template>
              </div>
              <!--BUDGET-->

              <p class="budget-card card-text">
                â‚¬{{ annuncio.budgetPrevisto }}
              </p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="isSviluppatore">
        <button
          type="button"
          class="btn col-12 proposta mt-3"
          [routerLink]="['/crea-proposta', annuncioId]"
        >
          Fai una proposta
        </button>
      </div>
    </div>
    <div class="text-center col-sm-12 col-md-12 col-lg-4 mt-5">
      <h4>Proposte ricevute:</h4>
      <div *ngFor="let proposta of proposte">
        <p>{{ proposta.descrizione }}</p>
        <p>Stato: {{ proposta.statoProposta }}</p>
        <p>Stato: {{ proposta.importoProposto }}</p>
        <button (click)="accettaProposta(proposta)">Accetta</button>
        <button (click)="rifiutaProposta(proposta)">Rifiuta</button>
      </div>
    </div>
  </div>
</div>
<router-outlet></router-outlet>
